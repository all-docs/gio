<!--
SPDX-FileCopyrightText: GLib Development Team

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from docs.gtk.org/gio/method.DBusConnection.add_filter.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 09:07:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <title>Gio.DBusConnection.add_filter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  

  
  <meta priority="og:title" content="Gio.DBusConnection.add_filter"/>
  <meta priority="og:description" content="Reference for Gio.DBusConnection.add_filter"/>
  <meta name="twitter:title" content="Gio.DBusConnection.add_filter"/>
  <meta name="twitter:description" content="Reference for Gio.DBusConnection.add_filter"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index-2.html">Gio</a></h3>
        <p>API Version: 2.0</p>
        
        <p>Library Version: 2.83.3</p>
        
      </div>
      
<div class="section">
  <h5>Type</h5>
  <div class="links">
    <a href="class.DBusConnection.html">DBusConnection</a>
  </div>
</div>
<div class="section">
  <h5>Methods</h5>
  <div class="links">
  
    <a class="method current" href="method.DBusConnection.add_filter.html">add_filter</a>
  
    <a class="method" href="method.DBusConnection.call.html">call</a>
  
    <a class="method" href="method.DBusConnection.call_finish.html">call_finish</a>
  
    <a class="method" href="method.DBusConnection.call_sync.html">call_sync</a>
  
    <a class="method" href="method.DBusConnection.call_with_unix_fd_list.html">call_with_unix_fd_list</a>
  
    <a class="method" href="method.DBusConnection.call_with_unix_fd_list_finish.html">call_with_unix_fd_list_finish</a>
  
    <a class="method" href="method.DBusConnection.call_with_unix_fd_list_sync.html">call_with_unix_fd_list_sync</a>
  
    <a class="method" href="method.DBusConnection.close.html">close</a>
  
    <a class="method" href="method.DBusConnection.close_finish.html">close_finish</a>
  
    <a class="method" href="method.DBusConnection.close_sync.html">close_sync</a>
  
    <a class="method" href="method.DBusConnection.emit_signal.html">emit_signal</a>
  
    <a class="method" href="method.DBusConnection.export_action_group.html">export_action_group</a>
  
    <a class="method" href="method.DBusConnection.export_menu_model.html">export_menu_model</a>
  
    <a class="method" href="method.DBusConnection.flush.html">flush</a>
  
    <a class="method" href="method.DBusConnection.flush_finish.html">flush_finish</a>
  
    <a class="method" href="method.DBusConnection.flush_sync.html">flush_sync</a>
  
    <a class="method" href="method.DBusConnection.get_capabilities.html">get_capabilities</a>
  
    <a class="method" href="method.DBusConnection.get_exit_on_close.html">get_exit_on_close</a>
  
    <a class="method" href="method.DBusConnection.get_flags.html">get_flags</a>
  
    <a class="method" href="method.DBusConnection.get_guid.html">get_guid</a>
  
    <a class="method" href="method.DBusConnection.get_last_serial.html">get_last_serial</a>
  
    <a class="method" href="method.DBusConnection.get_peer_credentials.html">get_peer_credentials</a>
  
    <a class="method" href="method.DBusConnection.get_stream.html">get_stream</a>
  
    <a class="method" href="method.DBusConnection.get_unique_name.html">get_unique_name</a>
  
    <a class="method" href="method.DBusConnection.is_closed.html">is_closed</a>
  
    <a class="method" href="method.DBusConnection.register_object.html">register_object</a>
  
    <a class="method" href="method.DBusConnection.register_object_with_closures.html">register_object_with_closures</a>
  
    <a class="method" href="method.DBusConnection.register_subtree.html">register_subtree</a>
  
    <a class="method" href="method.DBusConnection.remove_filter.html">remove_filter</a>
  
    <a class="method" href="method.DBusConnection.send_message.html">send_message</a>
  
    <a class="method" href="method.DBusConnection.send_message_with_reply.html">send_message_with_reply</a>
  
    <a class="method" href="method.DBusConnection.send_message_with_reply_finish.html">send_message_with_reply_finish</a>
  
    <a class="method" href="method.DBusConnection.send_message_with_reply_sync.html">send_message_with_reply_sync</a>
  
    <a class="method" href="method.DBusConnection.set_exit_on_close.html">set_exit_on_close</a>
  
    <a class="method" href="method.DBusConnection.signal_subscribe.html">signal_subscribe</a>
  
    <a class="method" href="method.DBusConnection.signal_unsubscribe.html">signal_unsubscribe</a>
  
    <a class="method" href="method.DBusConnection.start_message_processing.html">start_message_processing</a>
  
    <a class="method" href="method.DBusConnection.unexport_action_group.html">unexport_action_group</a>
  
    <a class="method" href="method.DBusConnection.unexport_menu_model.html">unexport_menu_model</a>
  
    <a class="method" href="method.DBusConnection.unregister_object.html">unregister_object</a>
  
    <a class="method" href="method.DBusConnection.unregister_subtree.html">unregister_subtree</a>
  
  </div>
</div>

      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2024.1</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Method</h3>
    <h1><a href="index-2.html">Gio</a><span class="sep"></span><a href="class.DBusConnection.html">DBusConnection</a><span class="sep"></span>add_filter</h1>
  </header>

  <section>
    <div class="docblock">
      <p><span class="emblem available">since: 2.26</span></p>
    </div>

    <div class="declaration toggle-wrapper">
      <h4 style="display:flex;" id="declaration">
        Declaration
        <a class="anchor" href="#declaration"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/glib/-/blob/main/gio/gdbusconnection.h#L688">[src]</a>
        
      </h4>

      <div class="docblock c-decl">
        <pre><code><div class="highlight"><pre><span></span><span class="n">guint</span>
<span class="n">g_dbus_connection_add_filter</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">GDBusConnection</span><span class="o">*</span><span class="w"> </span><span class="n">connection</span><span class="p">,</span>
<span class="w">  </span><span class="n">GDBusMessageFilterFunction</span><span class="w"> </span><span class="n">filter_function</span><span class="p">,</span>
<span class="w">  </span><span class="n">gpointer</span><span class="w"> </span><span class="n">user_data</span><span class="p">,</span>
<span class="w">  </span><span class="n">GDestroyNotify</span><span class="w"> </span><span class="n">user_data_free_func</span>
<span class="p">)</span>
</pre></div>
</code></pre>
      </div>
    </div>

    <div class="description toggle-wrapper">
      <h4 style="display:flex;" id="description">
        Description
        <a class="anchor" href="#description"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/glib/-/blob/main/gio/gdbusconnection.c#L3474">[src]</a>
        
      </h4>

      <div class="docblock">
        <p>Adds a message filter. Filters are handlers that are run on all
incoming and outgoing messages, prior to standard dispatch. Filters
are run in the order that they were added.  The same handler can be
added as a filter more than once, in which case it will be run more
than once.  Filters added during a filter callback won&#8217;t be run on
the message being processed. Filter functions are allowed to modify
and even drop&nbsp;messages.</p>
<p>Note that filters are run in a dedicated message handling thread so
they can&#8217;t block and, generally, can&#8217;t do anything but signal a
worker thread. Also note that filters are rarely needed - use <span class="caps">API</span>
such as g_dbus_connection_send_message_with_reply(),
<code>g_dbus_connection_signal_subscribe()</code> or <code>g_dbus_connection_call()</code> instead.</p>
<p>If a filter consumes an incoming message the message is not
dispatched anywhere else - not even the standard dispatch machinery
(that <span class="caps">API</span> such as <code>g_dbus_connection_signal_subscribe()</code> and
<code>g_dbus_connection_send_message_with_reply()</code> relies on) will see the
message. Similarly, if a filter consumes an outgoing message, the
message will not be sent to the other&nbsp;peer.</p>
<p>If <code>user_data_free_func</code> is non-<code>NULL</code>, it will be called (in the
thread-default main context of the thread you are calling this
method from) at some point after <code>user_data</code> is no longer
needed. (It is not guaranteed to be called synchronously when the
filter is removed, and may be called after <code>connection</code> has been&nbsp;destroyed.).</p>
      </div>

      <div class="docblock">
        
        <p>Available since: 2.26</p>
        
        
        
        
        
      </div>

      
    </div>

    
    <div class="parameters toggle-wrapper">
      <h4 id="parameters">
        Parameters
        <a href="#parameters" class="anchor"></a>
      </h4>

      <div class="docblock">
        <dl class="arguments">
          
          <dt class="arg-name"><code>filter_function</code></dt>
          <dd class="arg-description">
            <p><em>Type:</em>&nbsp;<a href="callback.DBusMessageFilterFunction.html"><code>GDBusMessageFilterFunction</code></a></p>
            <p>A filter&nbsp;function.</p>
            <table>
            
            
            
            
            
            
            
            
            
            </table>
          </dd>
          
          <dt class="arg-name"><code>user_data</code></dt>
          <dd class="arg-description">
            <p><em>Type:</em>&nbsp;<code>gpointer</code></p>
            <p>User data to pass to <code>filter_function</code>.</p>
            <table>
            
            <tr><td>The argument can be <code>NULL</code>.</td></tr>
            
            
            
            
            
            <tr><td title="transfer: none">The data is owned by the caller of the method.</td></tr>
            
            </table>
          </dd>
          
          <dt class="arg-name"><code>user_data_free_func</code></dt>
          <dd class="arg-description">
            <p><em>Type:</em>&nbsp;<a href="javascript:void(0)" data-link="callback.DestroyNotify.html" data-namespace="GLib" class="external"><code>GDestroyNotify</code></a></p>
            <p>Function to free <code>user_data</code> with when filter
    is removed or <code>NULL</code>.</p>
            <table>
            
            
            
            
            
            
            
            
            
            </table>
          </dd>
          

          
        </dl>
      </div>
    </div>
    

    
    <div class="return-value toggle-wrapper">
      <h4 id="return-value">
        Return value
        <a href="#return-value" class="anchor"></a>
      </h4>

      <div class="docblock">
        <div class="returns">
          <div class="arg-description">
            <p><em>Type:</em>&nbsp;<code>guint</code></p>
            <p>A filter identifier that can be used with&nbsp;g_dbus_connection_remove_filter().</p>
          </div>
          <div>
            <table>
            
            
            
            
            
            
            </table>
          </div>
        </div>
      </div>
    </div>
    

  </section>
</section>


    

    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>

<!-- Mirrored from docs.gtk.org/gio/method.DBusConnection.add_filter.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 09:07:23 GMT -->
</html>