<!--
SPDX-FileCopyrightText: GLib Development Team

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from docs.gtk.org/gio/method.Cancellable.make_pollfd.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 09:07:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <title>Gio.Cancellable.make_pollfd</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  

  
  <meta priority="og:title" content="Gio.Cancellable.make_pollfd"/>
  <meta priority="og:description" content="Reference for Gio.Cancellable.make_pollfd"/>
  <meta name="twitter:title" content="Gio.Cancellable.make_pollfd"/>
  <meta name="twitter:description" content="Reference for Gio.Cancellable.make_pollfd"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index-2.html">Gio</a></h3>
        <p>API Version: 2.0</p>
        
        <p>Library Version: 2.83.3</p>
        
      </div>
      
<div class="section">
  <h5>Type</h5>
  <div class="links">
    <a href="class.Cancellable.html">Cancellable</a>
  </div>
</div>
<div class="section">
  <h5>Methods</h5>
  <div class="links">
  
    <a class="method" href="method.Cancellable.cancel.html">cancel</a>
  
    <a class="method" href="method.Cancellable.connect.html">connect</a>
  
    <a class="method" href="method.Cancellable.disconnect.html">disconnect</a>
  
    <a class="method" href="method.Cancellable.get_fd.html">get_fd</a>
  
    <a class="method" href="method.Cancellable.is_cancelled.html">is_cancelled</a>
  
    <a class="method current" href="method.Cancellable.make_pollfd.html">make_pollfd</a>
  
    <a class="method" href="method.Cancellable.pop_current.html">pop_current</a>
  
    <a class="method" href="method.Cancellable.push_current.html">push_current</a>
  
    <a class="method" href="method.Cancellable.release_fd.html">release_fd</a>
  
    <a class="method" href="method.Cancellable.reset.html">reset</a>
  
    <a class="method" href="method.Cancellable.set_error_if_cancelled.html">set_error_if_cancelled</a>
  
    <a class="method" href="method.Cancellable.source_new.html">source_new</a>
  
  </div>
</div>

      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2024.1</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Method</h3>
    <h1><a href="index-2.html">Gio</a><span class="sep"></span><a href="class.Cancellable.html">Cancellable</a><span class="sep"></span>make_pollfd</h1>
  </header>

  <section>
    <div class="docblock">
      <p><span class="emblem available">since: 2.22</span></p>
    </div>

    <div class="declaration toggle-wrapper">
      <h4 style="display:flex;" id="declaration">
        Declaration
        <a class="anchor" href="#declaration"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/glib/-/blob/main/gio/gcancellable.h#L83">[src]</a>
        
      </h4>

      <div class="docblock c-decl">
        <pre><code><div class="highlight"><pre><span></span><span class="n">gboolean</span>
<span class="n">g_cancellable_make_pollfd</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">GCancellable</span><span class="o">*</span><span class="w"> </span><span class="n">cancellable</span><span class="p">,</span>
<span class="w">  </span><span class="n">GPollFD</span><span class="o">*</span><span class="w"> </span><span class="n">pollfd</span>
<span class="p">)</span>
</pre></div>
</code></pre>
      </div>
    </div>

    <div class="description toggle-wrapper">
      <h4 style="display:flex;" id="description">
        Description
        <a class="anchor" href="#description"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/glib/-/blob/main/gio/gcancellable.c#L371">[src]</a>
        
      </h4>

      <div class="docblock">
        <p>Creates a <code>GPollFD</code> corresponding to <code>cancellable</code>; this can be passed
to <code>g_poll()</code> and used to poll for cancellation. This is useful both
for unix systems without a native poll and for portability to&nbsp;windows.</p>
<p>When this function returns <code>TRUE</code>, you should use
<code>g_cancellable_release_fd()</code> to free up resources allocated for the
<code>pollfd</code>. After a <code>FALSE</code> return, do not call&nbsp;g_cancellable_release_fd().</p>
<p>If this function returns <code>FALSE</code>, either no <code>cancellable</code> was given or
resource limits prevent this function from allocating the necessary
structures for polling. (On Linux, you will likely have reached
the maximum number of file descriptors.) The suggested way to handle
these cases is to ignore the <code>cancellable</code>.</p>
<p>You are not supposed to read from the fd yourself, just check for
readable status. Reading to unset the readable status is done
with&nbsp;g_cancellable_reset().</p>
      </div>

      <div class="docblock">
        
        <p>Available since: 2.22</p>
        
        
        
        
        
      </div>

      
    </div>

    
    <div class="parameters toggle-wrapper">
      <h4 id="parameters">
        Parameters
        <a href="#parameters" class="anchor"></a>
      </h4>

      <div class="docblock">
        <dl class="arguments">
          
          <dt class="arg-name"><code>pollfd</code></dt>
          <dd class="arg-description">
            <p><em>Type:</em>&nbsp;<a href="javascript:void(0)" data-link="struct.PollFD.html" data-namespace="GLib" class="external"><code>GPollFD</code></a></p>
            <p>A pointer to a <code>GPollFD</code>.</p>
            <table>
            
            
            
            
            
            
            
            <tr><td title="transfer: none">The data is owned by the caller of the method.</td></tr>
            
            </table>
          </dd>
          

          
        </dl>
      </div>
    </div>
    

    
    <div class="return-value toggle-wrapper">
      <h4 id="return-value">
        Return value
        <a href="#return-value" class="anchor"></a>
      </h4>

      <div class="docblock">
        <div class="returns">
          <div class="arg-description">
            <p><em>Type:</em>&nbsp;<code>gboolean</code></p>
            <p><code>TRUE</code> if <code>pollfd</code> was successfully initialized, <code>FALSE</code> on
         failure to prepare the&nbsp;cancellable.</p>
          </div>
          <div>
            <table>
            
            
            
            
            
            
            </table>
          </div>
        </div>
      </div>
    </div>
    

  </section>
</section>


    

    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>

<!-- Mirrored from docs.gtk.org/gio/method.Cancellable.make_pollfd.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 09:07:20 GMT -->
</html>